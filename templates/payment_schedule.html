{% extends "base.html" %}
{% block title %}Payment Schedule{% endblock %}

{% block content %}
<style>
  .pm-page, .pm-page *{
  font-family: "Ovelion", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
}
  .wrap{ align-items:flex-start; justify-content:center; padding-top:92px; padding-bottom:40px; }
  @media(max-width:480px){ .wrap{ padding-top:78px; } }

  .ps-card{
    width:min(560px, 94vw);
    background: rgba(20, 28, 28, .58);
    border: 1px solid rgba(255,255,255,.10);
    box-shadow: 0 12px 40px rgba(0,0,0,.45);
    border-radius: 18px;
    padding: 14px;
    backdrop-filter: blur(14px);
    -webkit-backdrop-filter: blur(14px);
    text-align:left;
    animation: cardSwipe .45s ease both;
  }
  @keyframes cardSwipe{ from{opacity:0; transform:translateX(16px) scale(.99);} to{opacity:1; transform:translateX(0) scale(1);} }

  .head{ display:flex; justify-content:space-between; gap:10px; margin-bottom:10px; align-items:flex-start; }
  .title{ font-size:18px; font-weight:950; color:#fff; line-height:1.1; }
  .sub{ font-size:12px; color: rgba(255,255,255,.72); margin-top:2px; }

  .pill{
    padding:6px 12px; border-radius:999px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(0,0,0,.25);
    color:#dfffe9;
    font-weight:900;
    font-size:12px;
    white-space:nowrap;
  }

  .item{
    border-radius:16px;
    border:1px solid rgba(255,255,255,.10);
    background: rgba(0,0,0,.22);
    padding:12px 12px;
    margin-bottom:10px;
  }
  .row{ display:flex; justify-content:space-between; gap:10px; }
  .kv{ line-height:1.25; }
  .kv b{ color:#fff; font-weight:950; }
  .kv span{ color: rgba(255,255,255,.75); font-weight:800; }

  .repay{ color:#ff4d4d; font-weight:950; }  /* red like sample */
  .small{ font-size:12px; color: rgba(255,255,255,.72); margin-top:4px; }

  .btn-primary{
    border:0 !important;
    background: linear-gradient(90deg, #004182, #054585d0) !important;
    color:#fff !important;
    box-shadow: 0 12px 30px rgba(0,0,0,.35) !important;
  }
  .btn-primary:active{ transform: scale(.98); }
  .actions{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
</style>

<div class="ps-card pm-page">
  <div class="head">
    <div>
      <div class="title">Payment Schedule</div>
      <div class="sub">Created from your approved loan</div>
    </div>
    <div class="pill">Repayment</div>
  </div>

  {% if latest_loan %}
    {% for s in schedules %}
      <div class="item">
        <div class="row">
          <div class="kv"><span>Date:</span> <b>{{ s.due_date }}</b></div>
        </div>

        <div class="row" style="margin-top:8px;">
          <div class="kv"><span>Loan Amount:</span> <b>PHP {{ s.loan_amount }}</b></div>
          <div class="kv"><span>Loan Period:</span> <b>{{ s.term_months }} months</b></div>
        </div>

        <div class="row" style="margin-top:8px;">
          <div class="kv"><span>Repayment Amount:</span> <b class="repay">PHP {{ s.repayment }}</b></div>
          <div class="kv"><span>Interest Rate:</span> <b>{{ s.interest_rate }}</b></div>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="item" style="text-align:center; opacity:.85;">
      No approved loan found yet.
    </div>
  {% endif %}

  <div class="actions">
    <a class="btn btn-ghost" href="/profile/">Back</a>
    <a class="btn btn-primary" href="/dashboard/">Dashboard</a>
  </div>
</div>
{% endblock %}